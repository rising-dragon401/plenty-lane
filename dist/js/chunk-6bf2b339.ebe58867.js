(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bf2b339"],{"13d5":function(e,t,r){"use strict";var o=r("23e7"),s=r("d58f").left,a=r("a640"),i=r("ae40"),l=r("2d00"),n=r("605d"),m=a("reduce"),u=i("reduce",{1:0}),f=!n&&l>79&&l<83;o({target:"Array",proto:!0,forced:!m||!u||f},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"4dc3":function(e,t,r){},6346:function(e,t,r){"use strict";r("4dc3")},c66d:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile-page"},[r("b-tabs",{attrs:{pills:"",card:"",vertical:""},scopedSlots:e._u([{key:"tabs-start",fn:function(){return[r("li",{staticClass:"nav-item tabs-title",attrs:{role:"presentation"}},[e._v("Profile")])]},proxy:!0},{key:"tabs-end",fn:function(){return[r("li",{staticClass:"nav-item",attrs:{role:"presentation"},on:{click:e.logout}},[e._v("Logout")])]},proxy:!0}])},[r("b-tab",{attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[r("p",[e._v("Edit Profile")])]},proxy:!0}])},[r("h1",{staticClass:"title-size3 titleGreenNavyColor mb-4"},[e._v("Edit Profile")]),r("b-alert",{attrs:{show:e.submitted&&e.showSuccessAlert,dismissible:"",variant:"success"}},[r("p",[e._v("Your profile has been updated successfully.")])]),r("b-alert",{attrs:{show:e.submitted&&e.showErrorAlert,dismissible:"",variant:"danger"}},[r("p",[e._v(e._s(e.errorMsg))])]),r("b-form",{staticClass:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.onSubmit(t)}}},[r("b-form-group",{attrs:{label:"First Name"}},[r("b-form-input",{attrs:{name:"firstName",placeholder:"First Name",autocomplete:"off"},on:{focus:e.focusHandler,input:e.hideAlerts},model:{value:e.$v.form.firstName.$model,callback:function(t){e.$set(e.$v.form.firstName,"$model",t)},expression:"$v.form.firstName.$model"}}),e.$v.form.firstName.$dirty&&!e.$v.form.firstName.required?r("small",{staticClass:"text-danger d-flex mt-2 text-left"},[e._v("This is a required field.")]):e._e()],1),r("b-form-group",{attrs:{label:"Last Name"}},[r("b-form-input",{attrs:{name:"lastName",placeholder:"Last Name",autocomplete:"off"},on:{focus:e.focusHandler,input:e.hideAlerts},model:{value:e.$v.form.lastName.$model,callback:function(t){e.$set(e.$v.form.lastName,"$model",t)},expression:"$v.form.lastName.$model"}}),e.$v.form.lastName.$dirty&&!e.$v.form.lastName.required?r("small",{staticClass:"text-danger d-flex mt-2 text-left"},[e._v("This is a required field.")]):e._e()],1),r("b-form-group",{attrs:{label:"Email"}},[r("b-form-input",{attrs:{type:"email",placeholder:"Email Address"},on:{focus:e.focusHandler,input:e.hideAlerts},model:{value:e.$v.form.email.$model,callback:function(t){e.$set(e.$v.form.email,"$model",t)},expression:"$v.form.email.$model"}}),e.$v.form.email.email?e._e():r("small",{staticClass:"text-danger d-flex mt-2 text-left"},[e._v("Please enter valid email address.")]),e.$v.form.email.$dirty&&!e.$v.form.email.required?r("small",{staticClass:"text-danger d-flex mt-2 text-left"},[e._v("This is a required field.")]):e._e()],1),r("b-form-group",{attrs:{label:"Bio"}},[r("b-form-textarea",{attrs:{name:"bio",placeholder:"Bio",autocomplete:"off"},on:{focus:e.focusHandler,input:e.hideAlerts},model:{value:e.$v.form.bio.$model,callback:function(t){e.$set(e.$v.form.bio,"$model",t)},expression:"$v.form.bio.$model"}})],1),r("b-button",{staticClass:"main-btn btn-green btn-sign-up hover-slide-left float-right",attrs:{type:"submit",disabled:e.$v.$invalid||e.submitted}},[r("span",[e._v("Save Changes")])])],1)],1)],1)],1)},s=[],a=(r("99af"),r("13d5"),r("5530")),i=r("1dce"),l=r("b5ae"),n=r("d722"),m={name:"Profile",mixins:[i["validationMixin"]],data:function(){return{showSuccessAlert:!1,showErrorAlert:!1,errorMsg:"",submitted:!1,userInfo:null,form:{firstName:"",lastName:"",email:"",bio:""}}},validations:{form:{email:{required:l["required"],email:l["email"]},firstName:{required:l["required"]},lastName:{required:l["required"]},bio:{}}},created:function(){var e=Object(a["a"])({},this.$store.getters.userInfo);e&&e.email&&e.id?(this.userInfo=Object(a["a"])({},e),this.setFormValues(e),this.hideGlobalLoader()):this.loadUserInfo()},methods:{hideGlobalLoader:function(){this.$loader&&this.$loader.hide&&this.$loader.hide()},setFormValues:function(e){this.$v.form.$model.firstName=e.firstName,this.$v.form.$model.lastName=e.lastName,this.$v.form.$model.email=e.email,this.$v.form.$model.bio=e.bio},loadUserInfo:function(){var e=this;n["a"].dashboard.userInfo().then((function(t){e.userInfo=Object(a["a"])({},t),e.$store.commit("userInfo",Object(a["a"])({},t)),e.setFormValues(t),e.hideGlobalLoader()})).catch((function(t){e.hideGlobalLoader()}))},hideAlerts:function(){this.showSuccessAlert&&(this.showSuccessAlert=!1),this.showErrorAlert&&(this.showErrorAlert=!1,this.errorMsg=""),this.submitted&&(this.submitted=!1)},focusHandler:function(e){this.hideAlerts()},onSubmit:function(){var e=this;this.submitted=!0,n["a"].dashboard.updateProfile(this.form).then((function(t){e.$store.commit("userInfo",Object(a["a"])({},t)),e.showSuccessAlert=!0})).catch((function(t){var r=t.data.message||t.message;Array.isArray(r)&&r.length>0?e.errorMsg=r.reduce((function(e,t){return e&&e.length?"".concat(e,"; ").concat(t):t}),""):e.errorMsg=r||"Error saving changes.",e.showErrorAlert=!0}))},logout:function(){var e=this;this.$bvModal.msgBoxConfirm("Are you sure you want to logout?").then((function(t){t&&(localStorage.removeItem("plAccessToken"),e.$store.commit("reset"),e.$router.push({path:"/login"}))})).catch((function(e){}))}}},u=m,f=(r("6346"),r("2877")),d=Object(f["a"])(u,o,s,!1,null,null,null);t["default"]=d.exports},d58f:function(e,t,r){var o=r("1c0b"),s=r("7b0b"),a=r("44ad"),i=r("50c4"),l=function(e){return function(t,r,l,n){o(r);var m=s(t),u=a(m),f=i(m.length),d=e?f-1:0,c=e?-1:1;if(l<2)while(1){if(d in u){n=u[d],d+=c;break}if(d+=c,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=c)d in u&&(n=r(n,u[d],d,m));return n}};e.exports={left:l(!1),right:l(!0)}}}]);
//# sourceMappingURL=chunk-6bf2b339.ebe58867.js.map