(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2265e231"],{"15c1":function(t,e,a){"use strict";a("7660")},"16c1":function(t,e,a){t.exports=a.p+"img/upload-to-cloud.5cf34568.svg"},"1f90":function(t,e,a){t.exports=a.p+"img/card__img-placeholder.9f762682.svg"},3536:function(t,e,a){"use strict";a("ebda")},"44fb":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),o=a("5899"),n="["+o+"]",s=RegExp("^"+n+n+"*"),r=RegExp(n+n+"*$"),l=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(r,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},7146:function(t,e,a){"use strict";a("44fb")},7156:function(t,e,a){var i=a("861d"),o=a("d2bb");t.exports=function(t,e,a){var n,s;return o&&"function"==typeof(n=e.constructor)&&n!==a&&i(s=n.prototype)&&s!==a.prototype&&o(t,s),t}},7660:function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").find,n=a("44d2"),s=a("ae40"),r="find",l=!0,c=s(r);r in[]&&Array(1)[r]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)},9847:function(t,e,a){"use strict";a("defa")},a9e3:function(t,e,a){"use strict";var i=a("83ab"),o=a("da84"),n=a("94ca"),s=a("6eeb"),r=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),f=a("d039"),m=a("7c73"),u=a("241c").f,p=a("06cf").f,v=a("9bf2").f,h=a("58a8").trim,b="Number",g=o[b],$=g.prototype,C=l(m($))==b,x=function(t){var e,a,i,o,n,s,r,l,c=d(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+c}for(n=c.slice(2),s=n.length,r=0;r<s;r++)if(l=n.charCodeAt(r),l<48||l>o)return NaN;return parseInt(n,i)}return+c};if(n(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var _,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(C?f((function(){$.valueOf.call(a)})):l(a)!=b)?c(new g(x(e)),a,w):x(e)},y=i?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;y.length>I;I++)r(g,_=y[I])&&!r(w,_)&&v(w,_,p(g,_));w.prototype=$,$.constructor=w,s(o,b,w)}},d81d:function(t,e,a){"use strict";var i=a("23e7"),o=a("b727").map,n=a("1dde"),s=a("ae40"),r=n("map"),l=s("map");i({target:"Array",proto:!0,forced:!r||!l},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},defa:function(t,e,a){},e01a:function(t,e,a){"use strict";var i=a("23e7"),o=a("83ab"),n=a("da84"),s=a("5135"),r=a("861d"),l=a("9bf2").f,c=a("e893"),d=n.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var f={},m=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof m?new d(t):void 0===t?d():d(t);return""===t&&(f[e]=!0),e};c(m,d);var u=m.prototype=d.prototype;u.constructor=m;var p=u.toString,v="Symbol(test)"==String(d("test")),h=/^Symbol\((.*)\)[^)]+$/;l(u,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=p.call(t);if(s(f,t))return"";var a=v?e.slice(7,-1):e.replace(h,"$1");return""===a?void 0:a}}),i({global:!0,forced:!0},{Symbol:m})}},e700:function(t,e,a){"use strict";a("f73b")},eb28:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"new-meal-page"},[t.isWizardCompleted?t._e():i("form-wizard",{ref:"newMealWizard",staticClass:"wizard-new-meal",class:{"is-last-step":t.currentStep===t.totalSteps-1},attrs:{title:t.stepTitles[t.currentStep],subtitle:"",shape:"tab",color:"#009C90"},on:{"on-complete":t.onComplete,"on-change":t.onChange},scopedSlots:t._u([{key:"footer",fn:function(e){return[i("div",{staticClass:"wizard-footer-left"},[i("wizard-button",{staticClass:"wizard-btn-prev",style:e.fillButtonStyle,nativeOn:{click:function(a){return t.backBtnClick(e)}}},[i("i",{staticClass:"wizard-btn-icon fas fa-arrow-left"}),i("span",{staticClass:"wizard-btn-text"},[t._v("Back")])])],1),i("div",{staticClass:"wizard-footer-step-info"},[t._v("Step "+t._s(t.currentStep+1)+"/"+t._s(t.totalSteps))]),i("div",{staticClass:"wizard-footer-right"},[i("wizard-button",{staticClass:"wizard-btn-next",style:e.fillButtonStyle,nativeOn:{click:function(t){return e.nextTab()}}},[e.isLastStep?i("span",{staticClass:"wizard-btn-text"},[t._v("Post")]):i("span",{staticClass:"wizard-btn-text"},[t._v("Next")]),i("i",{staticClass:"wizard-btn-icon fas fa-arrow-right"})])],1)]}}],null,!1,2396462918)},[i("tab-content",{attrs:{title:"","before-change":function(){return t.validateStep("step1")}}},[i("NewMealStep1",{ref:"step1",on:{"on-validate":t.beforeFirstTabSwitch}})],1),i("tab-content",{attrs:{title:"","before-change":t.beforeSecondTabSwitch}},[i("NewMealImage",{ref:"step2"})],1),i("tab-content",{attrs:{title:"","before-change":function(){return t.validateStep("step3")}}},[i("NewMealStep3",{ref:"step3",on:{"on-validate":t.beforeThirdTabSwitch}})],1),i("tab-content",{attrs:{title:"","before-change":t.beforeLastTabSwitch}},[i("div",{staticClass:"meal-preview-container"},[i("div",{staticClass:"meal-preview-fields-group d-flex"},[i("div",{staticClass:"meal-preview-field-item image-field-container"},[i("div",{staticClass:"meal-preview-field-item-header d-flex"},[i("span",{staticClass:"text-muted"},[t._v("Meal Image")]),i("b-btn",{staticClass:"edit-btn",on:{click:function(e){return t.goToStep(1)}}},[i("i",{staticClass:"fa fa-pencil-alt"}),i("span",{staticClass:"edit-btn-text"},[t._v("Edit")])])],1),i("div",{staticClass:"meal-preview-field-item-image-holder"},[i("img",{attrs:{src:a("1f90"),alt:""}})])]),i("div",{staticClass:"meal-preview-field-item"},[i("div",{staticClass:"meal-preview-field-item-header d-flex"},[i("span",{staticClass:"text-muted"},[t._v("Meal Info")]),i("b-btn",{staticClass:"edit-btn",on:{click:function(e){return t.goToStep(0)}}},[i("i",{staticClass:"fa fa-pencil-alt"}),i("span",{staticClass:"edit-btn-text"},[t._v("Edit")])])],1),i("div",{staticClass:"meal-preview-field-item-bg-block"},[i("p",{staticClass:"meal-title"},[t._v(t._s(t.mealInfo.name))]),i("p",{staticClass:"meal-quantity"},[t._v(t._s(t.mealQuantityStr))]),t.mealInfo.description&&t.mealInfo.description.length?i("p",{staticClass:"meal-description"},[t._v(t._s(t.mealInfo.description))]):t._e()])])]),i("div",{staticClass:"meal-preview-fields-group d-flex"},[i("div",{staticClass:"meal-preview-field-item pickup-time-field-container"},[i("div",{staticClass:"meal-preview-field-item-header d-flex"},[i("span",{staticClass:"text-muted"},[t._v("Availability")]),i("b-btn",{staticClass:"edit-btn",on:{click:function(e){return t.goToStep(2)}}},[i("i",{staticClass:"fa fa-pencil-alt"}),i("span",{staticClass:"edit-btn-text"},[t._v("Edit")])])],1),i("div",{staticClass:"meal-preview-field-item-bg-block"},[i("p",[t._v(t._s(t.formattedPickupTime))])])]),i("div",{staticClass:"meal-preview-field-item location-field-container"},[i("div",{staticClass:"meal-preview-field-item-header d-flex"},[i("span",{staticClass:"text-muted"},[t._v("Location")]),i("b-btn",{staticClass:"edit-btn",on:{click:function(e){return t.goToStep(2)}}},[i("i",{staticClass:"fa fa-pencil-alt"}),i("span",{staticClass:"edit-btn-text"},[t._v("Edit")])])],1),i("div",{staticClass:"meal-preview-field-item-bg-block"},[i("p",[t._v(t._s(t.mealInfo.placeAlias))])])]),i("div",{staticClass:"meal-preview-field-item dietary-notes-field-container"},[i("div",{staticClass:"meal-preview-field-item-header d-flex"},[i("span",{staticClass:"text-muted"},[t._v("Dietary Notes")]),i("b-btn",{staticClass:"edit-btn",on:{click:function(e){return t.goToStep(2)}}},[i("i",{staticClass:"fa fa-pencil-alt"}),i("span",{staticClass:"edit-btn-text"},[t._v("Edit")])])],1),t.mealInfo.dietaryNotes&&t.mealInfo.dietaryNotes.length?i("div",{staticClass:"meal-preview-field-item-bg-block"},[t.mealInfo.dietaryNotesText&&t.mealInfo.dietaryNotesText.length?i("ul",t._l(t.mealInfo.dietaryNotesText,(function(e){return i("li",[t._v(t._s(e))])})),0):i("ul",t._l(t.mealInfo.dietaryNotes,(function(e){return i("li",[t._v(t._s(e.label))])})),0)]):t._e()])])])])],1),t.isWizardCompleted?i("div",{staticClass:"meal-posted-container"},[t._m(0),i("div",{staticClass:"meal-posted-buttons-wrapper"},[i("b-button",{staticClass:"main-btn btn-green-bright hover-slide-left transparent mb-3",on:{click:t.redirectToMeal}},[i("span",[i("i",{staticClass:"fa fa-eye"}),t._v(" View Your Meal ")])]),i("b-button",{staticClass:"main-btn btn-green-bright hover-slide-left",on:{click:t.createAnotherMeal}},[i("span",[i("i",{staticClass:"fa fa-plus"}),t._v(" Create Another Meal ")])])],1)]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"meal-posted-header"},[a("p",{staticClass:"title-size1"},[t._v("Meal posted, woohoo!")])])}],n=(a("a4d3"),a("e01a"),a("99af"),a("fb6a"),a("b0c0"),a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-form",{staticClass:"form new-meal-wizard-form"},[a("b-form-group",{attrs:{label:"Meal Name"}},[a("b-form-input",{attrs:{name:"name",placeholder:"e.g. Grandma's lasagna",autocomplete:"off"},model:{value:t.$v.form.name.$model,callback:function(e){t.$set(t.$v.form.name,"$model",e)},expression:"$v.form.name.$model"}}),t.$v.form.name.$dirty&&!t.$v.form.name.required?a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("This is a required field.")]):t._e()],1),a("b-form-group",{attrs:{label:"Meal Description"}},[a("b-form-textarea",{attrs:{name:"description",placeholder:"a little something about your meal...",autocomplete:"off"},model:{value:t.$v.form.description.$model,callback:function(e){t.$set(t.$v.form.description,"$model",e)},expression:"$v.form.description.$model"}}),t.$v.form.description.$dirty&&!t.$v.form.description.required?a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("This is a required field.")]):t._e(),t.$v.form.description.maxLength?t._e():a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("This field must be shorter than or equal to "+t._s(t.descMaxLength)+" characters.")])],1),a("b-form-group",{attrs:{label:"Number of Meals"}},[a("p",{staticClass:"sub-label-text"},[t._v("1 meal = 1 container")]),a("b-form-input",{attrs:{name:"quantity",type:"number",placeholder:"e.g. 5",autocomplete:"off"},model:{value:t.$v.form.quantity.$model,callback:function(e){t.$set(t.$v.form.quantity,"$model",e)},expression:"$v.form.quantity.$model"}}),t.$v.form.quantity.$dirty&&!t.$v.form.quantity.required?a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("This is a required field.")]):t._e(),t.$v.form.quantity.minValue?t._e():a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("Minimum number of meals is "+t._s(t.quantityMin)+".")]),t.$v.form.quantity.maxValue?t._e():a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("Maximum number of meals is "+t._s(t.quantityMax)+".")])],1)],1)}),s=[],r=a("1dce"),l=a("b5ae"),c=a("db49"),d={name:"NewMealStep1",mixins:[r["validationMixin"]],data:function(){return{descMaxLength:c["a"].MEAL_INFO.DESCRIPTION_MAX_LENGTH,quantityMin:c["a"].MEAL_INFO.QUANTITY_MIN,quantityMax:c["a"].MEAL_INFO.QUANTITY_MAX,form:{name:"",description:"",quantity:null}}},validations:{form:{name:{required:l["required"]},description:{required:l["required"],maxLength:Object(l["maxLength"])(c["a"].MEAL_INFO.DESCRIPTION_MAX_LENGTH)},quantity:{required:l["required"],minValue:Object(l["minValue"])(c["a"].MEAL_INFO.QUANTITY_MIN),maxValue:Object(l["maxValue"])(c["a"].MEAL_INFO.QUANTITY_MAX)}}},methods:{validate:function(){this.$v.form.$touch();var t=!this.$v.form.$invalid;return this.$emit("on-validate",this.$data.form,t),t},isFormValid:function(){return!this.$v.form.$invalid}}},f=d,m=(a("3536"),a("2877")),u=Object(m["a"])(f,n,s,!1,null,"0de2556a",null),p=u.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-form",{staticClass:"new-meal-image-container"},[i("b-form-group",{attrs:{label:"Add an image"}},[i("p",{staticClass:"mb-4 text-muted"},[t._v("You don’t need an image right now, you can always add this later…")]),t.dropzoneOptions?i("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions,useCustomSlot:!0}},[i("div",{staticClass:"dropzone-custom-content"},[i("img",{attrs:{width:"92px",height:"90px",src:a("16c1"),alt:""}}),i("h3",{staticClass:"dropzone-custom-title"},[t._v("Drag & drop an image")])])]):t._e()],1)],1)},h=[],b=a("92c3"),g=a.n(b),$={name:"NewMealImage",components:{vueDropzone:g.a},data:function(){return{mealId:"",dropzoneOptions:null}},mounted:function(){this.dropzoneOptions={url:"https://httpbin.org/post",thumbnailWidth:150,maxFilesize:10,maxFiles:1,headers:{"My-Awesome-Header":"header value"},acceptedFiles:"image/*"}}},C=$,x=(a("15c1"),Object(m["a"])(C,v,h,!1,null,"1036b26a",null)),_=x.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"new-meal-step-3"},[a("b-form",{staticClass:"form"},[a("b-form-group",{staticClass:"dietary-notes",attrs:{label:"Critical dietary notes"}},[a("p",{staticClass:"mb-3 mt-0"},[t._v("Select as many apply")]),a("b-form-checkbox-group",{staticClass:"dietary-notes-group",attrs:{id:"checkbox-group-1",options:t.dietaryOptions,name:"dietaryNotes"},model:{value:t.$v.form.dietaryNotes.$model,callback:function(e){t.$set(t.$v.form.dietaryNotes,"$model",e)},expression:"$v.form.dietaryNotes.$model"}})],1),a("div",{staticClass:"meal-time-container"},[a("p",{staticClass:"mb-2 form-label-text"},[t._v("Meal availability")]),a("div",{staticClass:"d-flex meal-time-container-controls"},[a("b-form-group",[a("p",{staticClass:"mb-2"},[t._v("Pickup Time")]),a("b-form-timepicker",{attrs:{placeholder:"",name:"pickupTime",locale:"en"},model:{value:t.$v.form.pickupTime.$model,callback:function(e){t.$set(t.$v.form.pickupTime,"$model",e)},expression:"$v.form.pickupTime.$model"}})],1),a("b-form-group",[a("p",{staticClass:"mb-2"},[t._v("Date")]),a("b-form-datepicker",{attrs:{placeholder:"",min:t.minDate,name:"pickupDate","date-format-options":{year:"numeric",month:"short",day:"2-digit",weekday:"short"},locale:"en"},model:{value:t.$v.form.pickupDate.$model,callback:function(e){t.$set(t.$v.form.pickupDate,"$model",e)},expression:"$v.form.pickupDate.$model"}})],1)],1)]),a("div",{staticClass:"meal-location-container"},[a("p",{staticClass:"mb-2 form-label-text"},[t._v("Pickup Location")]),a("div",{staticClass:"d-flex meal-location-controls"},[a("b-form-select",{staticClass:"location-select",attrs:{options:t.locationOptions},model:{value:t.$v.form.placeId.$model,callback:function(e){t.$set(t.$v.form.placeId,"$model",e)},expression:"$v.form.placeId.$model"}}),a("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.location-modal",modifiers:{"location-modal":!0}}],staticClass:"main-btn add-location-button btn-green-bright hover-slide-left transparent"},[a("span",[a("i",{staticClass:"fas fa-plus"}),t._v(" New Location ")])])],1)])],1),a("ModalNewLocation",{on:{"new-location-added":t.onNewLocationAdded}})],1)},y=[],I=(a("7db0"),a("d81d"),a("5530")),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"locationModal",attrs:{id:"location-modal",title:"New Location","no-close-on-esc":"","no-close-on-backdrop":"",centered:""}},[a("div",[a("b-form",[a("b-form-group",{staticClass:"places-search-container",attrs:{label:"Location"}},[a("b-input",{staticClass:"search-input",attrs:{id:"placeSearch",type:"text",name:"location",placeholder:"Search for a location",autocomplete:"off"},model:{value:t.$v.form.locationStr.$model,callback:function(e){t.$set(t.$v.form.locationStr,"$model",e)},expression:"$v.form.locationStr.$model"}}),t.$v.form.locationStr.$dirty&&!t.$v.form.locationStr.required?a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("This is a required field.")]):t._e(),t.$v.form.locationStr.$dirty&&t.$v.form.locationStr.required&&!t.$v.form.selectedPlace.required?a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("Please select a location.")]):t._e()],1),a("b-form-group",{attrs:{label:"Alias"}},[a("b-form-input",{attrs:{name:"alias",placeholder:"Alias",autocomplete:"off"},model:{value:t.$v.form.alias.$model,callback:function(e){t.$set(t.$v.form.alias,"$model",e)},expression:"$v.form.alias.$model"}}),t.$v.form.alias.$dirty&&!t.$v.form.alias.required?a("small",{staticClass:"text-danger d-flex mt-2 text-left"},[t._v("This is a required field.")]):t._e()],1)],1)],1),a("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("b-btn",{staticClass:"main-btn btn-cancel",attrs:{variant:""},on:{click:t.cancel}},[t._v("Cancel")]),a("b-btn",{staticClass:"main-btn btn-save",attrs:{variant:"primary"},on:{click:t.saveLocation}},[t._v("Save")])],1)])},N=[],T=a("d722"),M={name:"ModalNewLocation",mixins:[r["validationMixin"]],data:function(){return{form:{alias:"",locationStr:"",selectedPlace:null},autocomplete:null}},validations:{form:{alias:{required:l["required"]},locationStr:{required:l["required"]},selectedPlace:{required:l["required"]}}},mounted:function(){var t=this;this.$root.$on("bv::modal::shown",(function(e,a){"location-modal"===a&&t.initPlacesAutocomplete()})),this.$root.$on("bv::modal::hide",(function(e,a){"location-modal"===a&&t.resetForm()}))},methods:{initPlacesAutocomplete:function(){this.autocomplete=new google.maps.places.Autocomplete(document.getElementById("placeSearch")),this.autocomplete.addListener("place_changed",this.placeChangedHandler)},placeChangedHandler:function(){var t=this.autocomplete.getPlace();this.form.selectedPlace={address:t.formatted_address,googleMapsIdentifier:t.place_id,location:{type:"Point",coordinates:[t.geometry.location.lat(),t.geometry.location.lng()]},components:t.address_components}},clearSearch:function(){this.form.selectedPlace=null},saveLocation:function(){var t=this;this.$v.form.$touch();var e=!this.$v.form.$invalid;e&&T["a"].dashboard.places.addPlace(Object(I["a"])({alias:this.form.alias},this.form.selectedPlace)).then((function(e){t.$emit("new-location-added",e),t.closeModal()})).catch((function(e){console.log("\n >> err > ",e),t.closeModal()}))},cancel:function(){this.closeModal()},closeModal:function(){this.$refs.locationModal.hide()},resetForm:function(){this.$v.$reset(),this.form.locationStr="",this.form.selectedPlace=null,this.form.alias=""}}},k=M,A=(a("e700"),Object(m["a"])(k,S,N,!1,null,"164722c6",null)),O=A.exports,q={name:"NewMealStep3",mixins:[r["validationMixin"]],components:{ModalNewLocation:O},data:function(){return{dietaryOptions:[{text:"Contains dairy",value:"DAIRY"},{text:"Contains tree nuts",value:"TREE_NUTS"},{text:"Contains shellfish",value:"SHELLFISH"},{text:"Vegetarian",value:"VEGETARIAN"},{text:"Gluten free",value:"GLUTEN_FREE"},{text:"Contains eggs",value:"EGGS"},{text:"Contains peanuts",value:"PEANUTS"},{text:"Contains fish",value:"FISH"},{text:"Vegan",value:"VEGAN"}],form:{dietaryNotes:[],pickupTime:"",pickupDate:"",placeId:null},minDate:new Date,locationOptions:[{value:null,text:"Please select a location"}]}},validations:{form:{dietaryNotes:{},pickupTime:{required:l["required"]},pickupDate:{required:l["required"]},placeId:{required:l["required"]}}},methods:{validate:function(){var t=this;this.$v.form.$touch();var e=!this.$v.form.$invalid,a={dietaryNotes:[]};return this.$data.form.dietaryNotes&&this.$data.form.dietaryNotes.length&&(a.dietaryNotes=this.$data.form.dietaryNotes.map((function(t){return{label:t}})),a["dietaryNotesText"]=this.$data.form.dietaryNotes.map((function(e){var a=t.dietaryOptions.find((function(t){return t.value===e}));return a?a.text:e}))),this.$data.form.pickupDate&&this.$data.form.pickupTime&&(a["pickupTime"]="".concat(this.$data.form.pickupDate,"T").concat(this.$data.form.pickupTime,"Z")),this.$data.form.placeId&&(a["placeId"]=this.$data.form.placeId,a["placeAlias"]=this.locationOptions.find((function(e){return e.value===t.$data.form.placeId})).text),this.$emit("on-validate",Object(I["a"])({},a),e),e},isFormValid:function(){return!this.$v.form.$invalid},onNewLocationAdded:function(t){this.locationOptions.push({value:t.id,text:t.alias})}},mounted:function(){var t=this;T["a"].dashboard.places.getMyPlaces().then((function(e){e.data&&e.data.length&&(t.locationOptions=t.locationOptions.concat(e.data.map((function(t){return{value:t.id,text:t.alias}}))))})).catch((function(t){console.log("\n >> err > ",t)}))}},E=q,L=(a("9847"),Object(m["a"])(E,w,y,!1,null,"b2f83882",null)),z=L.exports,F={name:"CreateNewMeal",components:{NewMealStep1:p,NewMealImage:_,NewMealStep3:z},data:function(){return{stepTitles:["What are we making?","Do you have an image?","Notes, availability, and location","Let's review"],currentStep:0,totalSteps:4,newMealId:"",mealInfo:{},postMeal:{},newOffer:{quantity:"",pickupTime:"",placeId:"",mealId:""},isWizardCompleted:!1,newOfferId:""}},computed:{formattedPickupTime:function(){if(!this.mealInfo||!this.mealInfo.pickupTime)return"";var t=new Date(this.mealInfo.pickupTime),e=t.toLocaleDateString("en",{weekday:"short"}),a=t.toLocaleDateString("en",{month:"short"}),i=t.getUTCHours(),o=t.getUTCMinutes(),n="0".concat(o).slice(-2),s=i>=12,r="",l=s?"pm":"am";return i%=12,i=i||12,r=0===o?"".concat(i).concat(l):"".concat(i,":").concat(n).concat(l),"".concat(r," ").concat(e,", ").concat(a,". ").concat(t.getUTCDate())},mealQuantityStr:function(){var t=0;return this.mealInfo.quantity&&(t=Number(this.mealInfo.quantity)),"".concat(t," Serving").concat(1===t?"":"s")},isCurrentStepValid:function(){switch(this.currentStep){case 0:var t=this.$refs["step1"];return!!t&&t.isFormValid();case 1:return!0;case 2:var e=this.$refs["step3"];return!!e&&e.isFormValid();default:return!0}}},methods:{goToStep:function(t){this.$refs.newMealWizard.changeTab(this.currentStep,t)},onChange:function(t,e){e>=0&&(this.currentStep=e),window.scrollTo(0,0)},backBtnClick:function(t){0!==this.currentStep?t.prevTab():this.$router.push({path:"/dashboard/cook"})},validateStep:function(t){var e=this.$refs[t];return e.validate()},onComplete:function(){this.isWizardCompleted=!0},beforeFirstTabSwitch:function(t,e){return!!e&&(this.mealInfo=Object.assign({},this.mealInfo,t),this.postMeal={name:t.name,description:t.description,dietaryNotes:[]},this.newOffer.quantity=Number(t.quantity),!0)},beforeSecondTabSwitch:function(){return!0},beforeThirdTabSwitch:function(t,e){return!!e&&(this.newOffer.pickupTime=t.pickupTime,this.newOffer.placeId=t.placeId,this.mealInfo=Object.assign({},this.mealInfo,t),this.postMeal["dietaryNotes"]=t.dietaryNotes,!0)},beforeLastTabSwitch:function(){var t=this;return T["a"].dashboard.meals.addMeal(this.postMeal).then((function(e){return t.newMealId=e.id,t.newOffer.mealId=e.id,T["a"].dashboard.offers.addOffer(t.newOffer).then((function(e){return t.newOfferId=e.id,!0})).catch((function(t){return console.log("\n >> error POST offer:",t),!1}))})).catch((function(t){return console.log("\n >> err post meal > ",t),!1}))},redirectToMeal:function(){this.$router.push({path:"/dashboard/offers/".concat(this.newOfferId)})},createAnotherMeal:function(){var t=this;this.newOfferId="",this.postMeal={},this.newMealId="",this.mealInfo={},this.newOffer={quantity:"",pickupTime:"",placeId:"",mealId:""},this.isWizardCompleted=!1,setTimeout((function(){t.goToStep(0)}),0)}}},P=F,D=(a("7146"),Object(m["a"])(P,i,o,!1,null,"e7998240",null));e["default"]=D.exports},ebda:function(t,e,a){},f73b:function(t,e,a){},fb6a:function(t,e,a){"use strict";var i=a("23e7"),o=a("861d"),n=a("e8b5"),s=a("23cb"),r=a("50c4"),l=a("fc6a"),c=a("8418"),d=a("b622"),f=a("1dde"),m=a("ae40"),u=f("slice"),p=m("slice",{ACCESSORS:!0,0:0,1:2}),v=d("species"),h=[].slice,b=Math.max;i({target:"Array",proto:!0,forced:!u||!p},{slice:function(t,e){var a,i,d,f=l(this),m=r(f.length),u=s(t,m),p=s(void 0===e?m:e,m);if(n(f)&&(a=f.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?o(a)&&(a=a[v],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return h.call(f,u,p);for(i=new(void 0===a?Array:a)(b(p-u,0)),d=0;u<p;u++,d++)u in f&&c(i,d,f[u]);return i.length=d,i}})}}]);
//# sourceMappingURL=chunk-2265e231.b8e22f89.js.map